{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formElem = document.querySelector('.feedback-form');\nconst storageKey = 'feedback-form-state';\n\nformElem.addEventListener('input', e => {\n    const userEmail = formElem.elements.email.value.trim();\n    const userMessage = formElem.elements.message.value.trim();\n    \n    const data = {\n        email: userEmail, \n        message: userMessage,  \n    }\n    saveToLs(storageKey,data);\n});\n\nformElem.addEventListener('submit', e => {\n    e.preventDefault();\n        const { email, message } = loadFromLs(storageKey) || {};\n\n    if (email && message) {\n        console.log({ email, message });\n        localStorage.removeItem(storageKey);\n        formElem.reset();\n    }\n})\n\nfunction saveToLs(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLs(key = 'empty') {\n    const data = localStorage.getItem(key);\n\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}\n\nfunction restoreData() {\n    const { email, message } = loadFromLs(storageKey) || {};\n    \n    formElem.elements.email.value = email || '';\n    formElem.elements.message.value = message || '';\n}\n\nrestoreData();"],"names":["formElem","storageKey","e","userEmail","userMessage","saveToLs","email","message","loadFromLs","key","value","jsonData","data","restoreData"],"mappings":"mCAAA,MAAMA,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAa,sBAEnBD,EAAS,iBAAiB,QAASE,GAAK,CACpC,MAAMC,EAAYH,EAAS,SAAS,MAAM,MAAM,OAC1CI,EAAcJ,EAAS,SAAS,QAAQ,MAAM,OAMpDK,EAASJ,EAJI,CACT,MAAOE,EACP,QAASC,CACZ,CACuB,CAC5B,CAAC,EAEDJ,EAAS,iBAAiB,SAAUE,GAAK,CACrCA,EAAE,eAAc,EACZ,KAAM,CAAE,MAAAI,EAAO,QAAAC,CAAO,EAAKC,EAAWP,CAAU,GAAK,GAErDK,GAASC,IACT,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAC9B,aAAa,WAAWN,CAAU,EAClCD,EAAS,MAAK,EAEtB,CAAC,EAED,SAASK,EAASI,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAM,QAAS,CAC/B,MAAMG,EAAO,aAAa,QAAQH,CAAG,EAErC,GAAI,CAEA,OADe,KAAK,MAAMG,CAAI,CAEtC,MAAM,CACE,OAAOA,CACV,CACL,CAEA,SAASC,GAAc,CACnB,KAAM,CAAE,MAAAP,EAAO,QAAAC,CAAO,EAAKC,EAAWP,CAAU,GAAK,GAErDD,EAAS,SAAS,MAAM,MAAQM,GAAS,GACzCN,EAAS,SAAS,QAAQ,MAAQO,GAAW,EACjD,CAEAM,EAAa"}